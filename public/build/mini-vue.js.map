{"version":3,"file":"mini-vue.js","sources":["../../src/util/index.ts","../../src/runtime/vnode.ts","../../src/runtime/patchProps.ts","../../src/runtime/render.ts","../../src/test/3patch.ts","../../src/index.ts"],"sourcesContent":["export function isObject(target) {\n    return typeof target === 'object' && target !== null;\n}\n\nexport function isReactive(target) {\n    return !!(target && target.__isReactive);\n}\n\nexport function hasChanged(oldValue, value) {\n    return oldValue !== value && !(Number.isNaN(oldValue) && Number.isNaN(value));\n}\n\nexport function isFunction(target) {\n    return typeof target === 'function';\n}\n\nexport function isString(target) {\n    return typeof target === 'string';\n}\n\nexport function isNumber(target) {\n    return typeof target === 'number';\n}\n\nexport function isBoolean(target) {\n    return typeof target === 'boolean';\n}","import { isNumber, isString } from \"../util\";\n// 此处用来标识不同的节点类型\nexport const enum ShapeFlags {\n    ELEMENT = 1, // 00000001\n    TEXT = 1 << 1, // 00000010\n    FRAGMENT = 1 << 2, // 00000100\n    COMPONENT = 1 << 3, // 00001000\n    TEXT_CHILDREN = 1 << 4, // 00010000\n    ARRAY_CHILDREN = 1 << 5, // 00100000\n    CHILDREN = (1 << 4) | (1 << 5), //00110000\n};\n\nexport const Text = Symbol('Text');\nexport const Fragment = Symbol('Fragment');\n\nexport type VNode = {\n    type: any,\n    props: any | null,\n    children: string | any[] | number | null,\n    shapeFlag: ShapeFlags | 0,\n    el: any\n    anchor?: any\n}\n\nexport function h(type, props, children): VNode {\n    let shapeFlag: ShapeFlags | 0 = 0;\n    if(isString(type)) {\n        shapeFlag = ShapeFlags.ELEMENT;\n    } else if(type === Text) {\n        shapeFlag = ShapeFlags.TEXT;\n    } else if(type === Fragment) {\n        shapeFlag = ShapeFlags.FRAGMENT;\n    } else {\n        shapeFlag = ShapeFlags.COMPONENT;\n    }\n\n    if(isString(children) || isNumber(children)) {\n        shapeFlag |= ShapeFlags.TEXT_CHILDREN;\n        children = children.toString();\n    } else if(Array.isArray(children)) {\n        shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\n    }\n    return {\n        type,\n        props,\n        children,\n        shapeFlag,\n        el: null\n    }\n}","import { isBoolean } from '../util';\nconst domPropsRE = /[A-Z]|^(value|checked|selected|muted|disabled)$/;\nexport function patchProps(oldProps: any, newProps: any, el: any) {\n    if (oldProps === newProps) {\n        return;\n      }\n      newProps = newProps || {};\n      oldProps = oldProps || {};\n      for (const key in newProps) {\n        if (key === 'key') {\n          continue;\n        }\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev) {\n          patchDomProp(el, key, prev, next);\n        }\n      }\n      for (const key in oldProps) {\n        if (key !== 'key' && newProps[key] == null) {\n          patchDomProp(el, key, oldProps[key], null);\n        }\n      }\n}\n\nfunction patchDomProp(container, key, prev, next) {\n    if(key === 'class') {\n        // class定义比较简单，这里没有太多的其他逻辑\n        container.className = next || '';\n    } else if(key === 'style') {\n        if (!next) {\n            container.removeAttribute('style');\n        } else {\n            for (const styleName in next) {\n                container.style[styleName] = next[styleName];\n            }\n            if (prev) {\n                for (const styleName in prev) {\n                    if (next[styleName] == null) {\n                        container.style[styleName] = '';\n                    }\n                }\n            }\n        }\n    } else {\n        if(/^on[^a-z]/.test(key)) {\n            // 事件处理\n            const eventName = key.slice(2).toLowerCase();\n            if (prev) {\n                container.removeEventListener(eventName, prev);\n            }\n            if (next) {\n                container.addEventListener(eventName, next);\n            }\n        } else if(domPropsRE.test(key)) {\n            // 特殊属性处理\n            if(next === '' && isBoolean(container[key])) {\n                next = true;\n            }\n            container[key] = next\n        } else {\n            // 常规或自定义属性处理\n            if(next === null || next === false) {\n                container.removeAttribute(key);\n            } else {\n                container.setAttribute(key, next);\n            }\n        }\n    }\n}","import { isBoolean } from \"../util\";\nimport { ShapeFlags, VNode } from \"./vnode\";\nimport { patchProps } from \"./patchProps\";\n\nexport function render(vnode: VNode, container) {\n    const prevVNode = container._vode;\n    if(!vnode) {\n        if(prevVNode) unmount(prevVNode);\n    } else {\n        patch(prevVNode, vnode, container);\n    }\n    \n    container._vode = vnode;\n}\n\nfunction unmount(vnode: any) {\n    const { shapeFlag, el } = vnode;\n    if(shapeFlag & ShapeFlags.COMPONENT) {\n        unmountComponent(vnode);\n    } else if(shapeFlag & ShapeFlags.FRAGMENT) {\n        unmountFragment(vnode);\n    } else {\n        el.parentNode.removeChild(el);\n    }\n}\nfunction patch(prevVNode: any, vnode: VNode, container: any, anchor?: any) {\n    if(prevVNode && isSameVnode(prevVNode, vnode)) {\n        unmount(prevVNode);\n        prevVNode = null;\n    }\n    const { shapeFlag } = vnode;\n    if (shapeFlag & ShapeFlags.COMPONENT) {\n        processComponent(prevVNode, vnode, container);\n    } else if (shapeFlag & ShapeFlags.TEXT) {\n        processText(prevVNode, vnode, container, anchor);\n    } else if (shapeFlag & ShapeFlags.FRAGMENT) {\n        processFragment(prevVNode, vnode, container, anchor);\n    } else {\n        processElement(prevVNode, vnode, container, anchor);\n    }\n}\n\nfunction isSameVnode(prevVNode: any, vnode: VNode) {\n    return prevVNode.type === vnode.type;\n}\n\nfunction processComponent(prevVNode: any, vnode: VNode, container: any) {\n    throw new Error(\"Function not implemented.\");\n}\n\nfunction processText(prevVNode: any, vnode: VNode, container: any, anchor: any) {\n    if(prevVNode) {\n        vnode.el = prevVNode.el;\n        prevVNode.el.textContent = vnode.children;\n    } else {\n        mountTextNode(vnode, container, anchor);\n    }\n}\n\nfunction processFragment(prevVNode: any, vnode: VNode, container: any, anchor: any) {\n    const fragmentStartAnchor = (vnode.el = prevVNode\n        ? prevVNode.el\n        : document.createTextNode(''));\n      const fragmentEndAnchor = (vnode.anchor = prevVNode\n        ? prevVNode.anchor\n        : document.createTextNode(''));\n      if (prevVNode) {\n        patchChildren(prevVNode, vnode, container, fragmentEndAnchor);\n      } else {\n        container.insertBefore(fragmentStartAnchor, anchor);\n        container.insertBefore(fragmentEndAnchor, anchor);\n        mountChildren(vnode.children, container, fragmentEndAnchor);\n      }\n}\n\nfunction processElement(prevVNode: any, vnode: VNode, container: any, anchor: any) {\n    if(prevVNode) {\n        patchElement(prevVNode, vnode, container);\n    } else {\n        mountElement(vnode, container, anchor);\n    }\n}\n\n\nfunction mountTextNode(vnode: VNode, container: any, anchor?: any) {\n    const textNode = document.createTextNode(vnode.children as string);\n    container.insertBefore(textNode, anchor);\n    vnode.el = textNode;\n}\n\nfunction mountElement(vnode: VNode, container: any, anchor: any) {\n    const { type, props, shapeFlag, children } = vnode;\n    const el = document.createElement(type);\n    patchProps(null, props, el);\n    if(shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n        mountTextNode(vnode, el)\n    } else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        mountChildren(children, el);\n    }\n    container.insertBefore(el, anchor);\n    vnode.el = el;\n}\n\nfunction mountChildren(children: any, container: any, anchor?: any) {\n    (children as any[]).forEach(childVnode => {\n        patch(null, childVnode, container, anchor)\n    });\n}\n\nfunction patchElement(prevVNode: any, vnode: VNode, container: any) {\n    vnode.el = prevVNode.el;\n    patchProps(prevVNode.props, vnode.props, vnode.el);\n    patchChildren(prevVNode, vnode, vnode.el);\n}\n\nfunction unmountChildren(children) {\n    (children as any[]).forEach(child => {\n        unmount(child);\n    });\n}\n\nfunction patchChildren(prevVNode: any, vnode: VNode, container: any, anchor?: any) {\n    const { shapeFlag: prevShapeFlag, children: c1 } = prevVNode;\n    const { shapeFlag, children: c2 } = vnode;\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n        if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            unmountChildren(c1);\n          }\n          if (c2 !== c1) {\n            container.textContent = c2;\n          }\n    } else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            container.textContent = '';\n            mountChildren(c2, container, anchor);\n          } else if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            patchArrayChildren(c1, c2, container, anchor);\n          } else {\n            mountChildren(c2, container, anchor);\n          }\n    } else {\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            container.textContent = '';\n        } else if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            unmountChildren(c1);\n        }\n    }\n}\n\nfunction patchArrayChildren(c1: any, c2: any, container: any, anchor: any) {\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    for(let i = 0; i < commonLength; i++) {\n        patch(c1[i], c2[2], container);\n    }\n    if(oldLength > newLength) {\n        unmountChildren(c1.slice(commonLength));\n    } else {\n        mountChildren(c2.slice(commonLength), container, anchor);\n    }\n}\n\nfunction unmountComponent(vnode: any) {\n    throw new Error(\"Function not implemented.\");\n}\n\nfunction unmountFragment(vnode: any) {\n    let { el: cur, anchor: end } = vnode;\n    const { parentNode } = cur;\n    while (cur !== end) {\n        let next = cur.nextSibling;\n        parentNode.removeChild(cur);\n        cur = next;\n    }\n    parentNode.removeChild(end);\n}\n","import { h, Text, Fragment } from '../runtime/vnode';\nimport { render } from '../runtime/render';\n\nexport default function() {\n    render(h('ul', null, [\n        h('li', null, 1),\n        h(Fragment, null, []),\n        h('li', null, 3),\n        h('li', null, 4),\n    ]), document.body);\n\n    setTimeout(() => {\n        render(h('ul', null, [\n            h('li', null, 1),\n            h(Fragment, null, [h('li', null, 2)]),\n            h('li', null, 3),\n            h('li', null, 4),\n        ]), document.body);\n    }, 4000);\n}\n","import test1 from './test/1reactive';\nimport test2 from './test/2vnode';\nimport test3 from './test/3patch';\n\ntest3();"],"names":[],"mappings":";;;;;IAgBM,SAAU,QAAQ,CAAC,MAAM,EAAA;IAC3B,IAAA,OAAO,OAAO,MAAM,KAAK,QAAQ,CAAC;IACtC,CAAC;IAEK,SAAU,QAAQ,CAAC,MAAM,EAAA;IAC3B,IAAA,OAAO,OAAO,MAAM,KAAK,QAAQ,CAAC;IACtC,CAAC;IAEK,SAAU,SAAS,CAAC,MAAM,EAAA;IAC5B,IAAA,OAAO,OAAO,MAAM,KAAK,SAAS,CAAC;IACvC;;ICzBA;IACA,IAAkB,UAQjB,CAAA;IARD,CAAA,UAAkB,UAAU,EAAA;IACxB,IAAA,UAAA,CAAA,UAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAW,CAAA;IACX,IAAA,UAAA,CAAA,UAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAa,CAAA;IACb,IAAA,UAAA,CAAA,UAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAiB,CAAA;IACjB,IAAA,UAAA,CAAA,UAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAkB,CAAA;IAClB,IAAA,UAAA,CAAA,UAAA,CAAA,eAAA,CAAA,GAAA,EAAA,CAAA,GAAA,eAAsB,CAAA;IACtB,IAAA,UAAA,CAAA,UAAA,CAAA,gBAAA,CAAA,GAAA,EAAA,CAAA,GAAA,gBAAuB,CAAA;IACvB,IAAA,UAAA,CAAA,UAAA,CAAA,UAAA,CAAA,GAAA,EAAA,CAAA,GAAA,UAA8B,CAAA;IAClC,CAAC,EARiB,UAAU,KAAV,UAAU,GAQ3B,EAAA,CAAA,CAAA,CAAA;IAEM,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;IAC5B,MAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;aAW3B,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAA;QACnC,IAAI,SAAS,GAAmB,CAAC,CAAC;IAClC,IAAA,IAAG,QAAQ,CAAC,IAAI,CAAC,EAAE;IACf,QAAA,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC;IAClC,KAAA;aAAM,IAAG,IAAI,KAAK,IAAI,EAAE;IACrB,QAAA,SAAS,GAAG,UAAU,CAAC,IAAI,CAAC;IAC/B,KAAA;aAAM,IAAG,IAAI,KAAK,QAAQ,EAAE;IACzB,QAAA,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC;IACnC,KAAA;IAAM,SAAA;IACH,QAAA,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;IACpC,KAAA;QAED,IAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,EAAE;IACzC,QAAA,SAAS,IAAI,UAAU,CAAC,aAAa,CAAC;IACtC,QAAA,QAAQ,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAClC,KAAA;IAAM,SAAA,IAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;IAC/B,QAAA,SAAS,IAAI,UAAU,CAAC,cAAc,CAAC;IAC1C,KAAA;QACD,OAAO;YACH,IAAI;YACJ,KAAK;YACL,QAAQ;YACR,SAAS;IACT,QAAA,EAAE,EAAE,IAAI;SACX,CAAA;IACL;;IChDA,MAAM,UAAU,GAAG,iDAAiD,CAAC;aACrD,UAAU,CAAC,QAAa,EAAE,QAAa,EAAE,EAAO,EAAA;QAC5D,IAAI,QAAQ,KAAK,QAAQ,EAAE;YACvB,OAAO;IACR,KAAA;IACD,IAAA,QAAQ,GAAG,QAAQ,IAAI,EAAE,CAAC;IAC1B,IAAA,QAAQ,GAAG,QAAQ,IAAI,EAAE,CAAC;IAC1B,IAAA,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE;YAC1B,IAAI,GAAG,KAAK,KAAK,EAAE;gBACjB,SAAS;IACV,SAAA;IACD,QAAA,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;IAC3B,QAAA,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC3B,IAAI,IAAI,KAAK,IAAI,EAAE;gBACjB,YAAY,CAAC,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACnC,SAAA;IACF,KAAA;IACD,IAAA,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE;YAC1B,IAAI,GAAG,KAAK,KAAK,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE;IAC1C,YAAA,YAAY,CAAC,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;IAC5C,SAAA;IACF,KAAA;IACP,CAAC;IAED,SAAS,YAAY,CAAC,SAAS,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAA;QAC5C,IAAG,GAAG,KAAK,OAAO,EAAE;;IAEhB,QAAA,SAAS,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;IACpC,KAAA;aAAM,IAAG,GAAG,KAAK,OAAO,EAAE;YACvB,IAAI,CAAC,IAAI,EAAE;IACP,YAAA,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACtC,SAAA;IAAM,aAAA;IACH,YAAA,KAAK,MAAM,SAAS,IAAI,IAAI,EAAE;oBAC1B,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;IAChD,aAAA;IACD,YAAA,IAAI,IAAI,EAAE;IACN,gBAAA,KAAK,MAAM,SAAS,IAAI,IAAI,EAAE;IAC1B,oBAAA,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,EAAE;IACzB,wBAAA,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;IACnC,qBAAA;IACJ,iBAAA;IACJ,aAAA;IACJ,SAAA;IACJ,KAAA;IAAM,SAAA;IACH,QAAA,IAAG,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;;gBAEtB,MAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;IAC7C,YAAA,IAAI,IAAI,EAAE;IACN,gBAAA,SAAS,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAClD,aAAA;IACD,YAAA,IAAI,IAAI,EAAE;IACN,gBAAA,SAAS,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC/C,aAAA;IACJ,SAAA;IAAM,aAAA,IAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;;gBAE5B,IAAG,IAAI,KAAK,EAAE,IAAI,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;oBACzC,IAAI,GAAG,IAAI,CAAC;IACf,aAAA;IACD,YAAA,SAAS,CAAC,GAAG,CAAC,GAAG,IAAI,CAAA;IACxB,SAAA;IAAM,aAAA;;IAEH,YAAA,IAAG,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,EAAE;IAChC,gBAAA,SAAS,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IAClC,aAAA;IAAM,iBAAA;IACH,gBAAA,SAAS,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IACrC,aAAA;IACJ,SAAA;IACJ,KAAA;IACL;;ICjEgB,SAAA,MAAM,CAAC,KAAY,EAAE,SAAS,EAAA;IAC1C,IAAA,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;QAClC,IAAG,CAAC,KAAK,EAAE;IACP,QAAA,IAAG,SAAS;gBAAE,OAAO,CAAC,SAAS,CAAC,CAAC;IACpC,KAAA;IAAM,SAAA;IACH,QAAA,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IACtC,KAAA;IAED,IAAA,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,SAAS,OAAO,CAAC,KAAU,EAAA;IACvB,IAAA,MAAM,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC;IAChC,IAAA,IAAG,SAAS,GAAG,UAAU,CAAC,SAAS,EAAE;YACjC,gBAAgB,CAAM,CAAC,CAAC;IAC3B,KAAA;IAAM,SAAA,IAAG,SAAS,GAAG,UAAU,CAAC,QAAQ,EAAE;YACvC,eAAe,CAAC,KAAK,CAAC,CAAC;IAC1B,KAAA;IAAM,SAAA;IACH,QAAA,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACjC,KAAA;IACL,CAAC;IACD,SAAS,KAAK,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAE,MAAY,EAAA;QACrE,IAAG,SAAS,IAAI,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;YAC3C,OAAO,CAAC,SAAS,CAAC,CAAC;YACnB,SAAS,GAAG,IAAI,CAAC;IACpB,KAAA;IACD,IAAA,MAAM,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;IAC5B,IAAA,IAAI,SAAS,GAAG,UAAU,CAAC,SAAS,EAAE;IAClC,QAAA,gBAAgB,CAA4B,CAAC,CAAC;IACjD,KAAA;IAAM,SAAA,IAAI,SAAS,GAAG,UAAU,CAAC,IAAI,EAAE;YACpC,WAAW,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACpD,KAAA;IAAM,SAAA,IAAI,SAAS,GAAG,UAAU,CAAC,QAAQ,EAAE;YACxC,eAAe,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACxD,KAAA;IAAM,SAAA;YACH,cAAc,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACvD,KAAA;IACL,CAAC;IAED,SAAS,WAAW,CAAC,SAAc,EAAE,KAAY,EAAA;IAC7C,IAAA,OAAO,SAAS,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC;IACzC,CAAC;IAED,SAAS,gBAAgB,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAA;IAClE,IAAA,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IACjD,CAAC;IAED,SAAS,WAAW,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAE,MAAW,EAAA;IAC1E,IAAA,IAAG,SAAS,EAAE;IACV,QAAA,KAAK,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;YACxB,SAAS,CAAC,EAAE,CAAC,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC7C,KAAA;IAAM,SAAA;IACH,QAAA,aAAa,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAC3C,KAAA;IACL,CAAC;IAED,SAAS,eAAe,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAE,MAAW,EAAA;IAC9E,IAAA,MAAM,mBAAmB,IAAI,KAAK,CAAC,EAAE,GAAG,SAAS;cAC3C,SAAS,CAAC,EAAE;cACZ,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,IAAA,MAAM,iBAAiB,IAAI,KAAK,CAAC,MAAM,GAAG,SAAS;cAC/C,SAAS,CAAC,MAAM;cAChB,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,IAAA,IAAI,SAAS,EAAE;YACb,aAAa,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;IAC/D,KAAA;IAAM,SAAA;IACL,QAAA,SAAS,CAAC,YAAY,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;IACpD,QAAA,SAAS,CAAC,YAAY,CAAC,iBAAiB,EAAE,MAAM,CAAC,CAAC;YAClD,aAAa,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;IAC7D,KAAA;IACP,CAAC;IAED,SAAS,cAAc,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAE,MAAW,EAAA;IAC7E,IAAA,IAAG,SAAS,EAAE;IACV,QAAA,YAAY,CAAC,SAAS,EAAE,KAAgB,CAAC,CAAC;IAC7C,KAAA;IAAM,SAAA;IACH,QAAA,YAAY,CAAC,KAAK,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAC1C,KAAA;IACL,CAAC;IAGD,SAAS,aAAa,CAAC,KAAY,EAAE,SAAc,EAAE,MAAY,EAAA;QAC7D,MAAM,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,QAAkB,CAAC,CAAC;IACnE,IAAA,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACzC,IAAA,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC;IACxB,CAAC;IAED,SAAS,YAAY,CAAC,KAAY,EAAE,SAAc,EAAE,MAAW,EAAA;QAC3D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,KAAK,CAAC;QACnD,MAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACxC,IAAA,UAAU,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5B,IAAA,IAAG,SAAS,GAAG,UAAU,CAAC,aAAa,EAAE;IACrC,QAAA,aAAa,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;IAC3B,KAAA;IAAM,SAAA,IAAG,SAAS,GAAG,UAAU,CAAC,cAAc,EAAE;IAC7C,QAAA,aAAa,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IAC/B,KAAA;IACD,IAAA,SAAS,CAAC,YAAY,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;IACnC,IAAA,KAAK,CAAC,EAAE,GAAG,EAAE,CAAC;IAClB,CAAC;IAED,SAAS,aAAa,CAAC,QAAa,EAAE,SAAc,EAAE,MAAY,EAAA;IAC7D,IAAA,QAAkB,CAAC,OAAO,CAAC,UAAU,IAAG;YACrC,KAAK,CAAC,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,CAAC,CAAA;IAC9C,KAAC,CAAC,CAAC;IACP,CAAC;IAED,SAAS,YAAY,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAA;IAC9D,IAAA,KAAK,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;IACxB,IAAA,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;QACnD,aAAa,CAAC,SAAS,EAAE,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,SAAS,eAAe,CAAC,QAAQ,EAAA;IAC5B,IAAA,QAAkB,CAAC,OAAO,CAAC,KAAK,IAAG;YAChC,OAAO,CAAC,KAAK,CAAC,CAAC;IACnB,KAAC,CAAC,CAAC;IACP,CAAC;IAED,SAAS,aAAa,CAAC,SAAc,EAAE,KAAY,EAAE,SAAc,EAAE,MAAY,EAAA;QAC7E,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,SAAS,CAAC;QAC7D,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC;IAC1C,IAAA,IAAI,SAAS,GAAG,UAAU,CAAC,aAAa,EAAE;IACtC,QAAA,IAAI,aAAa,GAAG,UAAU,CAAC,cAAc,EAAE;gBAC3C,eAAe,CAAC,EAAE,CAAC,CAAC;IACrB,SAAA;YACD,IAAI,EAAE,KAAK,EAAE,EAAE;IACb,YAAA,SAAS,CAAC,WAAW,GAAG,EAAE,CAAC;IAC5B,SAAA;IACN,KAAA;IAAM,SAAA,IAAG,SAAS,GAAG,UAAU,CAAC,cAAc,EAAE;IAC7C,QAAA,IAAI,aAAa,GAAG,UAAU,CAAC,aAAa,EAAE;IAC1C,YAAA,SAAS,CAAC,WAAW,GAAG,EAAE,CAAC;IAC3B,YAAA,aAAa,CAAC,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACtC,SAAA;IAAM,aAAA,IAAI,aAAa,GAAG,UAAU,CAAC,cAAc,EAAE;gBACpD,kBAAkB,CAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAC/C,SAAA;IAAM,aAAA;IACL,YAAA,aAAa,CAAC,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IACtC,SAAA;IACN,KAAA;IAAM,SAAA;IACH,QAAA,IAAI,aAAa,GAAG,UAAU,CAAC,aAAa,EAAE;IAC1C,YAAA,SAAS,CAAC,WAAW,GAAG,EAAE,CAAC;IAC9B,SAAA;IAAM,aAAA,IAAI,aAAa,GAAG,UAAU,CAAC,cAAc,EAAE;gBAClD,eAAe,CAAC,EAAE,CAAC,CAAC;IACvB,SAAA;IACJ,KAAA;IACL,CAAC;IAED,SAAS,kBAAkB,CAAC,EAAO,EAAE,EAAO,EAAE,SAAc,EAAE,MAAW,EAAA;IACrE,IAAA,MAAM,SAAS,GAAG,EAAE,CAAC,MAAM,CAAC;IAC5B,IAAA,MAAM,SAAS,GAAG,EAAE,CAAC,MAAM,CAAC;QAC5B,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACpD,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,CAAC,EAAE,EAAE;IAClC,QAAA,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;IAClC,KAAA;QACD,IAAG,SAAS,GAAG,SAAS,EAAE;YACtB,eAAe,CAAC,EAAE,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;IAC3C,KAAA;IAAM,SAAA;IACH,QAAA,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;IAC5D,KAAA;IACL,CAAC;IAED,SAAS,gBAAgB,CAAC,KAAU,EAAA;IAChC,IAAA,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;IACjD,CAAC;IAED,SAAS,eAAe,CAAC,KAAU,EAAA;QAC/B,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC;IACrC,IAAA,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC;QAC3B,OAAO,GAAG,KAAK,GAAG,EAAE;IAChB,QAAA,IAAI,IAAI,GAAG,GAAG,CAAC,WAAW,CAAC;IAC3B,QAAA,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YAC5B,GAAG,GAAG,IAAI,CAAC;IACd,KAAA;IACD,IAAA,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IAChC;;IC7Kc,cAAA,IAAA;IACV,IAAA,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE;IACjB,QAAA,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAChB,QAAA,CAAC,CAAC,QAAQ,EAAE,IAAI,EAAE,EAAE,CAAC;IACrB,QAAA,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAChB,QAAA,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACnB,KAAA,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QAEnB,UAAU,CAAC,MAAK;IACZ,QAAA,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE;IACjB,YAAA,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAChB,YAAA,CAAC,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACrC,YAAA,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAChB,YAAA,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACnB,SAAA,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;SACtB,EAAE,IAAI,CAAC,CAAC;IACb;;ICfA,KAAK,EAAE;;;;;;"}